<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clan War Time Advisor</title>
<style>
  body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #1e1e2f, #121212); color: #f0f0f0; text-align: center; padding: 2rem; }
  h1 { color: #ffd700; text-shadow: 0 0 10px rgba(255,215,0,0.7); font-size: 2.5rem; }
  p { max-width: 600px; margin: auto; font-size: 1.1rem; color: #ccc; }
  label { font-weight: bold; }
  input { padding: 0.5rem; border: none; border-radius: 5px; }
  button { background: #ffd700; border: none; border-radius: 5px; padding: 0.5rem 1rem; font-size: 1rem; cursor: pointer; transition: background 0.3s; }
  button:hover { background: #ffcc33; }
  .result { margin-top: 2rem; font-size: 1.3rem; }
  .best { color: #00ff88; font-weight: bold; text-shadow: 0 0 5px rgba(0,255,136,0.6); }
  .avoid { color: #ff5555; font-weight: bold; text-shadow: 0 0 5px rgba(255,85,85,0.6); }
  .clanbar { margin: 0.3rem auto 1rem; font-size: 1.1rem; }
  .clanbar .name { font-weight: 800; color:#7dd3fc; }
  .clanbar .elder { display:inline-block; margin-left:10px; padding:4px 10px; border-radius:999px; background:#0b1220; border:1px solid #ffffff22; color:#e2e8f0; }
  .ticker-wrap{ position:fixed; left:0; right:0; bottom:0; background:linear-gradient(90deg,#0b1020,#1a1030); border-top:1px solid #ffffff22; padding:6px 0; box-shadow:0 -8px 24px rgba(0,0,0,.35); }
  .ticker{ overflow:hidden; white-space:nowrap; }
  .ticker-line{ display:inline-block; padding-left:100%; animation: ticker 18s linear infinite; font-weight:700; letter-spacing:.3px; }
  .tag{ display:inline-block; margin:0 10px; padding:.2rem .5rem; border-radius:999px; background:#ffd700; color:#1b1b2b; }
  @keyframes ticker{ 0%{ transform: translateX(0);} 100%{ transform: translateX(-100%);} }
</style>
</head>
<body>
<h1>Clan War Time Advisor</h1>
<p>Welcome to <strong id="clanName"></strong>! Type your city or time zone to see the best times to attack and when to avoid, based on Europe & Middle East peak hours.</p>
<div id="clanBar" class="clanbar"></div>
<label for="tz">City/Timezone:</label>
<input id="tz" type="text" placeholder="e.g. America/Edmonton">
<button onclick="advise()">Get Times</button>
<div class="result" id="output"></div>
<div class="ticker-wrap"><div class="ticker"><span class="ticker-line" id="tickerLine"></span></div></div>
<script>
const CLAN_NAME = "Edmontonation";
const ELDER_BAR_MEDALS = 2500;
const ADULT_BANTER = [
  "By doing your war attacks you build confidence ‚Äî and confidence attracts hot girls.",
  "Doing your war attacks helps build wealth and can increase your sex drive.",
  "Skip excuses, do war attacks ‚Äî future you says thanks (and so will your DMs).",
  "Real Elders finish their war attacks before breakfast.",
  "War medals today, bragging rights tonight."
];

document.getElementById('clanName').textContent = CLAN_NAME;
document.getElementById('clanBar').innerHTML = `<span class="name">Clan: ${CLAN_NAME}</span> ¬∑ <span class="elder">Elder Bar: ${ELDER_BAR_MEDALS} medals (this week)</span>`;

(function startTicker(){
  const line = document.getElementById('tickerLine');
  function build(){
    const picks = [...ADULT_BANTER].sort(()=>Math.random()-0.5).slice(0,3);
    line.innerHTML = `<span class="tag">NEWS</span> ` + picks.join("  ‚Ä¢  ") + "  ‚Ä¢  ";
  }
  build();
  setInterval(build, 36000);
})();

function advise(){
  const tz = document.getElementById('tz').value || Intl.DateTimeFormat().resolvedOptions().timeZone;
  const peakStartUTC = 16;
  const peakEndUTC = 21;
  function utcToLocal(utcHour){
    const now = new Date();
    now.setUTCHours(utcHour, 0, 0, 0);
    return new Date(now.toLocaleString('en-US', { timeZone: tz }));
  }
  const localPeakStart = utcToLocal(peakStartUTC);
  const localPeakEnd = utcToLocal(peakEndUTC);
  let eveningBestStart = new Date(localPeakEnd);
  eveningBestStart.setHours(localPeakEnd.getHours() + 1);
  let eveningBestEnd = new Date(eveningBestStart);
  eveningBestEnd.setHours(eveningBestStart.getHours() + 2);
  let morningBestStart = new Date(localPeakStart);
  morningBestStart.setHours(localPeakStart.getHours() - 4);
  let morningBestEnd = new Date(morningBestStart);
  morningBestEnd.setHours(morningBestStart.getHours() + 2);
  function fmt(t){ return t.toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'}); }
  document.getElementById('output').innerHTML = `
    <div class='best'>üåô Evening Best: ${fmt(eveningBestStart)} ‚Äì ${fmt(eveningBestEnd)}</div>
    <div class='best'>‚òÄÔ∏è Morning Best: ${fmt(morningBestStart)} ‚Äì ${fmt(morningBestEnd)}</div>
    <div class='avoid'>üö´ Avoid: ${fmt(localPeakStart)} ‚Äì ${fmt(localPeakEnd)}</div>
  `;
}
</script>
</body>
</html>
